---
import dbquery from '../script/dbquery.js';

const {type, title, selectedId } = Astro.props;

const sparql = "select ?id ?label where { ?id a a11y:" + type + " ; rdfs:label ?label} order by ?label";
const json = await dbquery.selectQuery(sparql);

---
<label for="category">{title}</label>
<select name="category" id="category">
	{json.results.bindings.map((item) => <option value={item.id.value} selected={(selectedId == item.id.value) ? 'selected' : undefined}>{item.label.value}</option>)}
</select>